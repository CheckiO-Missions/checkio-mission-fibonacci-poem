<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        Nie mam pojcia, jak zacz rozwizywa t misj.
    </div>
    <div class="answer">
        <p>
             Prosz uwa偶a - ta misja nie jest zbyt atwa, tak samo jak jej rozwizanie. Og贸lny pomys polega na utworzeniu iteratora z oddzielnymi sowami z podanego <b class="code">text</b>. Nastpnie w ka偶dym kroku nale偶y pobra potrzebn liczb (aktualn liczb Fibonacciego) s贸w, a偶 iterator si wyczerpie. W ka偶dym kroku prosz poczy sowa w wiersz i na kocu poczy wszystkie wiersze w tekst wielowierszowy.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, od czego powinienem zacz?
    </div>
    <div class="answer">
        <p>
            Przed napisaniem funkcji musi Pan zaimportowa obiekt <b class="code">Iterator</b> z moduu <a target="_blank" href="https://docs.python.org/3/library/collections.abc.html">collections.abc</a>.
        </p>
        <pre class="brush: python">
from collections.abc import Iterator        
        </pre>
        <p>
            Teraz prosz podzieli podane <b class="code">text</b> na sekwencj oddzielnych s贸w za pomoc metody <a target="_blank" href="https://www.w3schools.com/python/ref_string_split.asp">str.split()</a> z domylnym separatorem i utworzy <a target="_blank" href="https://www.w3schools.com/python/python_iterators.asp">iterator</a> z sekwencji.
        </p>
        <pre class="brush: python">
it = iter(text.split())
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Czysto! Co robi dalej?
    </div>
    <div class="answer">
        <p>
            Prosz sobie wyobrazi, co bdzie Pan mia na kocu. Potrzebna bdzie dodatkowa funkcja (np. <b class="code">gen</b>), kt贸ra jako argument przyjmie iterator <b class="code">it</b> i zwr贸ci wszystkie poczone wiersze z odpowiedni liczb s贸w. Pana og贸lna funkcja powinna wic zwr贸ci te wiersze poczone z symbolem nowego wiersza. Prosz u偶y metody <a target="_blank" href="https://www.w3schools.com/python/ref_string_join.asp">str.join()</a> z <b class="code">\n</b> jako separatorem. 
        </p>
        <pre class="brush: python">
def gen(it: Iterator[str]) -> Iterator[str]:
    ...
it = iter(text.split())        
return "\n".join(gen(it))
        </pre>
        <p>Pana funkcja <b class="code">gen</b> zwr贸ci poczone wiersze s贸w, wic typ zwracany to r贸wnie偶 <b class="code">Iterator</b>. Teraz prosz napisa funkcj.</p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Prosz to zrobi! Co powinno si tam znale藕?
    </div>
    <div class="answer">
        <p>
            Musi Pan zadeklarowa dwie zmienne z pocztkowymi elementami cigu Fibonacciego, aby m贸c obliczy dowolny z jego dalszych element贸w. 
        </p>
        <pre class="brush: python">
f0, f1 = 0, 1
        </pre>
        <p>
            Nie wie Pan, jak dugo bdzie Pan otrzymywa wyrazy z adresu <b class="code">it</b>, dlatego potrzebna jest tutaj ptla <a target="_blank" href="https://www.w3schools.com/python/python_while_loops.asp">while True</a>.
        </p>
        <pre class="brush: python">
while True:
    ...
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Jak utworzy ka偶d lini s贸w?
    </div>
    <div class="answer">
        <p>
            Podzielmy ten krok na kilka etap贸w. Oczywicie sowa w wierszu s poczone bia spacj.
        </p>
        <pre class="brush: python">
line = " ".join(...)
        </pre>
        <p>
            Co nale偶y poczy w rodku? Prosz pobra nastpny element z <b class="code">it</b> raz za razem. Jeli iterator si wyczerpie, nale偶y pobra "_". To jest napisane bardzo kr贸tko.
        </p>
        <pre class="brush: python">
line = " ".join(next(it, "_") ...)
        </pre>
        <p>
            Ile s贸w powinien Pan pobra za ka偶dym razem? Poniewa偶 nie potrzebuje Pan pustych wierszy, powinien Pan zacz od <b class="code">f1</b> s贸w, co jest r贸wne <b class="code">1</b> teraz. Prosz wykona iteracj po <b class="code">f1</b> elementach, przypisujc teraz do zmiennej.
        </p>
        <pre class="brush: python">
line = " ".join(next(it, "_") for _ in range(f1))
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Wow! To byo kr贸tkie i sprytne! Co mam zrobi dalej?
    </div>
    <div class="answer">
        <p>
            W pewnym momencie, gdy nie bdzie ju偶 偶adnych s贸w, otrzyma Pan lini, kt贸ra ju偶 zaczyna si od "_". Teraz nale偶y sprawdzi ka偶d lini i przerwa ptl w tym przypadku. Mo偶na u偶y metody <a target="_blank" href="https://www.w3schools.com/python/ref_string_startswith.asp">str.startswith()</a> z argumentem <b class="code">_</b>.
        </p>
        <pre class="brush: python">
if line.startswith("_"):
    break
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Rozumiem. Jak kontynuowa ptl, jeli linia nadal zawiera sowa?
    </div>
    <div class="answer">
        <p>
            Jak wspomniaem wczeniej, funkcja <b class="code">gen</b> jest generatorem, wic teraz powinien Pan <a target="_blank" href="https://realpython.com/introduction-to-python-generators/">yield</a> poprawn lini z funkcji.
        </p>
        <pre class="brush: python">
yield line
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Nie musz uzyska nowej liczby Fibonacciego?
    </div>
    <div class="answer">
        <p>
            Tak! Pozostaje tylko utworzy nowe <b class="code">fo, f1</b>, aby p贸藕niej u偶y ich do uzyskania wikszej liczby s贸w z <b class="code">it</b>. Python uatwia to podw贸jne zadanie.
        </p>
        <pre class="brush: python">
f0, f1 = f1, f0 + f1
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Jak wic powinno wyglda moje ostateczne rozwizanie?
    </div>
    <div class="answer">
        <p>
            Wystarczy poczy wszystkie podpowiedzi i zawin kod w wyra偶enie funkcyjne. U偶ywanie podpowiedzi typu dla danych wejciowych i wyjciowych jest wysoce zalecane.
        </p>
        <p>Poni偶ej znajduje si cae rozwizanie:</p>
        <div class="spoiler">
        <pre class="brush: python">
from collections.abc import Iterator


def fibo_poem(text: str) -> str:

    def gen(it: Iterator[str]) -> Iterator[str]:
        
        f0, f1 = 0, 1
        while True:
            line = " ".join(next(it, "_") for _ in range(f1))
            if line.startswith("_"):
                break
            yield line
            f0, f1 = f1, f0 + f1

    it = iter(text.split())        
    return "\n".join(gen(it))
        </pre>
        </div>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Prosz pokaza mi wicej rozwiza!<br />
        bo chc by prawdziw  Python Ninnjaa!
    </div>
    <div class="answer">
        <p>Jasne, prosz apa!</p>
        <p>
            To jest generalnie to samo, ale z krojeniem listy zamiast zwracania wartoci z iterator贸w.
        </p>
        <div class="spoiler">
        <pre class="brush: python">
def fibo_poem(text: str) -> str:

    a, b, text, poem = 0, 1, text.split(), []
    while text:
        row, text = text[:b], text[b:]
        row.extend('_' * (b - len(row)))
        poem.append(' '.join(row))
        a, b = b, a + b
    return '\n'.join(poem)
        </pre>
        </div>
        <p>
            Ten jest jeszcze kr贸tszy. Prosz odwr贸ci list ze sowami i wyskakiwa elementy od koca, a偶 lista nie bdzie pusta, a nastpnie wzi "_". Nastpnie prosz zbudowa nowe liczby Fibonacciego i zaktualizowa wynik acucha o nowy poczony wiersz. Prosz usun wszystkie niepotrzebne biae spacje i symbol nowej linii.
        </p>
        <div class="spoiler">
        <pre class="brush: python">
def fibo_poem(text: str) -> str:

    text, a, b, result = text.split()[::-1], 1, 1 , ""
    while text:
        line = (text and text.pop() or "_" for _ in range(b))
        a, b, result = a + b, a, result + ' '.join(line) + "\n"
    return result.strip()
        </pre>
        </div>
        <p>Prosz klikn <b>Best Solutions</b> w menu misji i zobaczy wiele innych ciekawych rozwiza!</p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Dziki! Teraz wiem i rozumiem wicej! Wszystko dziaa jak nale偶y!
    </div>
    <div class="answer">
        mio mi to sysze!
    </div>
</div>
</body>